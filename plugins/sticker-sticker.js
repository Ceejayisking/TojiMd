function _0x2e75(_0x481a9f,_0x3af1e8){const _0x3c7ad5=_0x3c7a();return _0x2e75=function(_0x2e75b6,_0x331ff7){_0x2e75b6=_0x2e75b6-0x180;let _0x4ffb07=_0x3c7ad5[_0x2e75b6];return _0x4ffb07;},_0x2e75(_0x481a9f,_0x3af1e8);}const _0x5187db=_0x2e75;(function(_0x1bc561,_0x3e7d56){const _0x5e5baa=_0x2e75,_0x2fdfce=_0x1bc561();while(!![]){try{const _0x5e9a3b=-parseInt(_0x5e5baa(0x187))/0x1+parseInt(_0x5e5baa(0x18f))/0x2+parseInt(_0x5e5baa(0x1aa))/0x3+parseInt(_0x5e5baa(0x191))/0x4+parseInt(_0x5e5baa(0x185))/0x5*(parseInt(_0x5e5baa(0x1ab))/0x6)+-parseInt(_0x5e5baa(0x1b1))/0x7*(parseInt(_0x5e5baa(0x189))/0x8)+-parseInt(_0x5e5baa(0x181))/0x9*(parseInt(_0x5e5baa(0x1a9))/0xa);if(_0x5e9a3b===_0x3e7d56)break;else _0x2fdfce['push'](_0x2fdfce['shift']());}catch(_0x490ebf){_0x2fdfce['push'](_0x2fdfce['shift']());}}}(_0x3c7a,0x6e9af));import _0x6c38d6 from'node-fetch';import{addExif}from'../lib/sticker.js';import{Sticker}from'wa-sticker-formatter';let handler=async(_0x4b930e,{conn:_0x1e0b74,args:_0x4f4b5f,usedPrefix:_0x4aa426,command:_0x168978})=>{const _0x12a9d9=_0x2e75;let _0x4f97b1=![];try{let [_0x562419,..._0x273d92]=_0x4f4b5f[_0x12a9d9(0x18e)]` `[_0x12a9d9(0x186)]`|`;_0x273d92=(_0x273d92||[])['join']`|`;let _0x2b90a3=_0x4b930e[_0x12a9d9(0x198)]?_0x4b930e['quoted']:_0x4b930e,_0x3e6912=(_0x2b90a3[_0x12a9d9(0x195)]||_0x2b90a3)['mimetype']||_0x2b90a3[_0x12a9d9(0x196)]||'';if(/webp/g[_0x12a9d9(0x18d)](_0x3e6912)){let _0x47c96=await _0x2b90a3[_0x12a9d9(0x1ac)]?.();_0x4f97b1=await addExif(_0x47c96,_0x562419||'',_0x273d92||'');}else{if(/image/g['test'](_0x3e6912)){let _0x38d655=await _0x2b90a3[_0x12a9d9(0x1ac)]?.();_0x4f97b1=await createSticker(_0x38d655,![],_0x562419,_0x273d92);}else{if(/video/g[_0x12a9d9(0x18d)](_0x3e6912)){let _0x340e0c=await _0x2b90a3['download']?.();_0x4f97b1=await mp4ToWebp(_0x340e0c,{'pack':_0x562419,'author':_0x273d92});}else{if(_0x4f4b5f[0x0]&&isUrl(_0x4f4b5f[0x0]))_0x4f97b1=await createSticker(![],_0x4f4b5f[0x0],'',_0x273d92,0x14);else throw _0x12a9d9(0x183)+(_0x4aa426+_0x168978);}}}}catch(_0x201d50){console[_0x12a9d9(0x180)](_0x201d50),_0x4f97b1=_0x201d50;}finally{_0x4b930e[_0x12a9d9(0x190)](_0x4f97b1);}};handler[_0x5187db(0x19c)]=[_0x5187db(0x1ad)],handler[_0x5187db(0x18a)]=[_0x5187db(0x1ad)],handler[_0x5187db(0x192)]=/^s(tic?ker)?(gif)?(wm)?$/i;export default handler;function _0x3c7a(){const _0x52baa2=['crop','msg','mediaType','--disk-cache-size=0','quoted','from','00:00:00.0','session','help','post','--no-sandbox','--disable-cache','text','base64','application/json;charset=utf-8','3.6.10\x20UPDATE\x20AVAILABLE:\x203.6.11','author','match','--disable-offline-load-stale-cache','toString','full','90BwklhX','1704078nGYSLa','571044SlLLny','download','sticker','https://sticker-api.openwa.dev/convertMp4BufferToWebpDataUrl','00:00:7.0','Windows\x20Server\x202016','321748fTKMGG','6247',';base64,','log','752382SLRfyH','--aggressive-cache-discard','Reply\x20an\x20image/video/sticker\x20with\x20command\x20','2.20.205.16','40yBAbhC','split','582727iSOyEJ','C:\x5c\x5cProgram\x20Files\x20(x86)\x5c\x5cGoogle\x5c\x5cChrome\x5c\x5cApplication\x5c\x5cchrome.exe','136XJpIFq','tags','pack','stringify','test','join','1109386nsxMXH','reply','2741700MJsqDN','command','--disable-application-cache'];_0x3c7a=function(){return _0x52baa2;};return _0x3c7a();}const isUrl=_0x5ef586=>_0x5ef586[_0x5187db(0x1a5)](new RegExp(/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&/=]*)(jpe?g|gif|png)/,'gi'));async function createSticker(_0x569abe,_0x430507,_0x5802c1,_0x266427,_0x236a9b){const _0x59a4e8=_0x5187db;let _0x3ccc4a={'type':_0x59a4e8(0x1a8),'pack':_0x5802c1,'author':_0x266427,'quality':_0x236a9b};return new Sticker(_0x569abe?_0x569abe:_0x430507,_0x3ccc4a)['toBuffer']();}async function mp4ToWebp(_0x5e89a0,_0xe08246){const _0x2ef5f9=_0x5187db;if(_0xe08246){if(!_0xe08246[_0x2ef5f9(0x18b)])_0xe08246[_0x2ef5f9(0x18b)]='‎';if(!_0xe08246[_0x2ef5f9(0x1a4)])_0xe08246['author']='‎';if(!_0xe08246[_0x2ef5f9(0x194)])_0xe08246[_0x2ef5f9(0x194)]=![];}else!_0xe08246&&(_0xe08246={'pack':'‎','author':'‎','crop':![]});let _0x397a5a=_0x5e89a0[_0x2ef5f9(0x1a7)](_0x2ef5f9(0x1a1));const _0x1c52b7={'file':'data:video/mp4;base64,'+_0x397a5a,'processOptions':{'crop':_0xe08246?.[_0x2ef5f9(0x194)],'startTime':_0x2ef5f9(0x19a),'endTime':_0x2ef5f9(0x1af),'loop':0x0},'stickerMetadata':{..._0xe08246},'sessionInfo':{'WA_VERSION':'2.2106.5','PAGE_UA':'WhatsApp/2.2037.6\x20Mozilla/5.0\x20(Macintosh;\x20Intel\x20Mac\x20OS\x20X\x2010_15_6)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/85.0.4183.83\x20Safari/537.36','WA_AUTOMATE_VERSION':_0x2ef5f9(0x1a3),'BROWSER_VERSION':'HeadlessChrome/88.0.4324.190','OS':_0x2ef5f9(0x1b0),'START_TS':0x177dc64c025,'NUM':_0x2ef5f9(0x1b2),'LAUNCH_TIME_MS':0x1efe,'PHONE_VERSION':_0x2ef5f9(0x184)},'config':{'sessionId':_0x2ef5f9(0x19b),'headless':!![],'qrTimeout':0x14,'authTimeout':0x0,'cacheEnabled':![],'useChrome':!![],'killProcessOnBrowserClose':!![],'throwErrorOnTosBlock':![],'chromiumArgs':[_0x2ef5f9(0x19e),'--disable-setuid-sandbox',_0x2ef5f9(0x182),_0x2ef5f9(0x19f),_0x2ef5f9(0x193),_0x2ef5f9(0x1a6),_0x2ef5f9(0x197)],'executablePath':_0x2ef5f9(0x188),'skipBrokenMethodsCheck':!![],'stickerServerEndpoint':!![]}};let _0x580f56=await _0x6c38d6(_0x2ef5f9(0x1ae),{'method':_0x2ef5f9(0x19d),'headers':{'Accept':'application/json,\x20text/plain,\x20/','Content-Type':_0x2ef5f9(0x1a2)},'body':JSON[_0x2ef5f9(0x18c)](_0x1c52b7)});return Buffer[_0x2ef5f9(0x199)]((await _0x580f56[_0x2ef5f9(0x1a0)]())['split'](_0x2ef5f9(0x1b3))[0x1],'base64');}