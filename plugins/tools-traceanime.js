const _0x1c956d=_0x4758;(function(_0x348bac,_0x40329b){const _0x2d19cc=_0x4758,_0x209b07=_0x348bac();while(!![]){try{const _0x21ddc9=parseInt(_0x2d19cc(0xa1))/0x1+parseInt(_0x2d19cc(0x8e))/0x2+-parseInt(_0x2d19cc(0x9a))/0x3*(parseInt(_0x2d19cc(0x8d))/0x4)+-parseInt(_0x2d19cc(0x8f))/0x5*(-parseInt(_0x2d19cc(0x97))/0x6)+parseInt(_0x2d19cc(0xac))/0x7*(-parseInt(_0x2d19cc(0xa8))/0x8)+parseInt(_0x2d19cc(0xa4))/0x9*(parseInt(_0x2d19cc(0x8b))/0xa)+-parseInt(_0x2d19cc(0x9c))/0xb*(parseInt(_0x2d19cc(0x94))/0xc);if(_0x21ddc9===_0x40329b)break;else _0x209b07['push'](_0x209b07['shift']());}catch(_0x58498f){_0x209b07['push'](_0x209b07['shift']());}}}(_0x5877,0x72f98));import _0x3c8649 from'node-fetch';import _0x1441cf from'../lib/uploadImage.js';function _0x4758(_0x148516,_0xbca873){const _0x5877eb=_0x5877();return _0x4758=function(_0x47581c,_0x45fd46){_0x47581c=_0x47581c-0x89;let _0x339639=_0x5877eb[_0x47581c];return _0x339639;},_0x4758(_0x148516,_0xbca873);}function _0x5877(){const _0x443407=['1047195fDIXfc','*Episode:*\x20','Anime\x20Information:','*Respond\x20to\x20an\x20image*','chat','300QQvnMw','quoted','*Similarity:*\x20','6JQVwPL','Unknown\x20Title','https://api.trace.moe/search?anilistInfo&url=','531lqtGtk','Not\x20Available','549747RBZwWr','synonyms','*Anime:*\x20','anime.mp4','error','810111BkKwMB','toString','length','3096081FtYcOZ','image','toFixed','sendFile','1208GdaEAS','trace','floor','API\x20URL:','4907EUMusQ','padStart','anime','reply','*Error:\x20Could\x20not\x20track\x20the\x20anime.*','log','result','msg','*Synonyms:*\x20','*Time:*\x20','mediaType','startsWith','\x20-\x20','API\x20Response:','Error:','10ytKQFb','title','7520QRMgai','1590826FfadHr'];_0x5877=function(){return _0x443407;};return _0x5877();}let handler=async(_0x1aa99a,{conn:_0x35e34e})=>{const _0x47ba98=_0x4758;try{let _0x3621d0=_0x1aa99a['quoted']?_0x1aa99a[_0x47ba98(0x95)]:_0x1aa99a,_0x2bcac6=(_0x3621d0[_0x47ba98(0xb3)]||_0x3621d0)['mimetype']||_0x3621d0[_0x47ba98(0xb6)]||'';if(!_0x2bcac6[_0x47ba98(0xb7)](_0x47ba98(0xa5)))throw _0x47ba98(0x92);let _0x8c6e5=await _0x3621d0['download'](),_0x2db9b1=await _0x1441cf(_0x8c6e5),_0x11c637=_0x47ba98(0x99)+encodeURIComponent(_0x2db9b1);console['log'](_0x47ba98(0xab),_0x11c637);let _0x27ed80=await _0x3c8649(_0x11c637),_0x177cbe=await _0x27ed80['json']();console[_0x47ba98(0xb1)](_0x47ba98(0x89),_0x177cbe);if(!_0x177cbe||_0x177cbe[_0x47ba98(0xa0)]||_0x177cbe[_0x47ba98(0xb2)][_0x47ba98(0xa3)]===0x0)throw _0x47ba98(0xb0);let {anilist:_0x2e6404,from:_0x19ca1a,to:_0x378e00,similarity:_0x36f3f3,video:_0x1bb3e9,episode:_0x4212ef}=_0x177cbe[_0x47ba98(0xb2)][0x0],_0x5da592=_0x2e6404[_0x47ba98(0x8c)]?_0x2e6404[_0x47ba98(0x8c)]['romaji']||_0x2e6404[_0x47ba98(0x8c)]['native']:_0x47ba98(0x98),_0x4580e2=_0x47ba98(0x9e)+_0x5da592+'\x0a';_0x2e6404['synonyms']&&_0x2e6404['synonyms'][_0x47ba98(0xa3)]>0x0&&(_0x4580e2+=_0x47ba98(0xb4)+_0x2e6404[_0x47ba98(0x9d)]['join'](',\x20')+'\x0a'),_0x4580e2+=_0x47ba98(0x96)+_0x36f3f3[_0x47ba98(0xa6)](0x2)+'%\x0a',_0x4580e2+=_0x47ba98(0xb5)+formatDuration(_0x19ca1a*0x3e8)+_0x47ba98(0xb8)+formatDuration(_0x378e00*0x3e8)+'\x0a',_0x4212ef&&(_0x4580e2+=_0x47ba98(0x90)+_0x4212ef+'\x0a'),console['log'](_0x47ba98(0x91),{'animeTitle':_0x5da592,'synonyms':_0x2e6404[_0x47ba98(0x9d)]?_0x2e6404[_0x47ba98(0x9d)]['join'](',\x20'):_0x47ba98(0x9b),'similarity':_0x36f3f3,'timestamp':formatDuration(_0x19ca1a*0x3e8)+_0x47ba98(0xb8)+formatDuration(_0x378e00*0x3e8),'video':_0x1bb3e9,'episode':_0x4212ef}),await _0x35e34e[_0x47ba98(0xa7)](_0x1aa99a[_0x47ba98(0x93)],_0x1bb3e9,_0x47ba98(0x9f),_0x4580e2,_0x1aa99a);}catch(_0x503a33){console[_0x47ba98(0xa0)](_0x47ba98(0x8a),_0x503a33),_0x1aa99a[_0x47ba98(0xaf)]('*Error:\x20Could\x20not\x20track\x20the\x20anime\x20or\x20send\x20the\x20video.*');}};function formatDuration(_0x12c242){const _0x5337e8=_0x4758;let _0x4af1d0=Math[_0x5337e8(0xaa)](_0x12c242/0x3e8%0x3c),_0x5d9797=Math['floor'](_0x12c242/(0x3e8*0x3c)%0x3c),_0x377796=Math[_0x5337e8(0xaa)](_0x12c242/(0x3e8*0x3c*0x3c)%0x18);return _0x377796['toString']()[_0x5337e8(0xad)](0x2,'0')+':'+_0x5d9797['toString']()[_0x5337e8(0xad)](0x2,'0')+':'+_0x4af1d0[_0x5337e8(0xa2)]()['padStart'](0x2,'0');}handler['help']=[_0x1c956d(0xa9)],handler['tags']=[_0x1c956d(0xae)],handler['command']=/^trace$/i;export default handler;