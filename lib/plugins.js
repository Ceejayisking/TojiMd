const _0x4ca37b=_0x5f5c;(function(_0x257c5b,_0x18619c){const _0x1f0355=_0x5f5c,_0x361b54=_0x257c5b();while(!![]){try{const _0x4fa13b=-parseInt(_0x1f0355(0xfe))/0x1+parseInt(_0x1f0355(0x112))/0x2*(-parseInt(_0x1f0355(0xfb))/0x3)+parseInt(_0x1f0355(0x110))/0x4+parseInt(_0x1f0355(0x114))/0x5+parseInt(_0x1f0355(0x106))/0x6*(-parseInt(_0x1f0355(0x10b))/0x7)+parseInt(_0x1f0355(0xff))/0x8*(parseInt(_0x1f0355(0x109))/0x9)+parseInt(_0x1f0355(0x10c))/0xa;if(_0x4fa13b===_0x18619c)break;else _0x361b54['push'](_0x361b54['shift']());}catch(_0x12b271){_0x361b54['push'](_0x361b54['shift']());}}}(_0x2dfb,0xd0f71));import{readdirSync,existsSync,readFileSync,watch}from'fs';import{join,resolve}from'path';import{format}from'util';import _0x18cd71 from'syntax-error';import _0x3e8225 from'./import.js';import _0x1ea775 from'./helper.js';function _0x5f5c(_0x23f626,_0x30ff39){const _0x2dfb96=_0x2dfb();return _0x5f5c=function(_0x5f5c20,_0x252c2d){_0x5f5c20=_0x5f5c20-0xfa;let _0x25eca8=_0x2dfb96[_0x5f5c20];return _0x25eca8;},_0x5f5c(_0x23f626,_0x30ff39);}const __dirname=_0x1ea775[_0x4ca37b(0x101)](import.meta),pluginFolder=_0x1ea775['__dirname'](join(__dirname,_0x4ca37b(0x117))),pluginFilter=_0x39f2f7=>/\.(mc)?js$/[_0x4ca37b(0x103)](_0x39f2f7);let watcher,plugins,pluginFolders=[];function _0x2dfb(){const _0x296b19=['45UPPZUV','all','7kCvhAK','23526710xTQFuR','bind','fromEntries','info','2352600QSuhmE','sort','8gNBDxd','catch','3542235xqcuqN','module','__filename','../plugins/index','deleted\x20plugin\x20-\x20\x27','filter','entries','push','default','558507jnsEIY','close','syntax\x20error\x20while\x20loading\x20\x27','1114797cChIXX','533912dpebHl','new\x20plugin\x20-\x20\x27','__dirname','localeCompare','test','error','warn','7605414PczSid','map','logger'];_0x2dfb=function(){return _0x296b19;};return _0x2dfb();}watcher=plugins={};async function filesInit(_0x65f18d=_0x65f18d,_0xba475e=_0xba475e,_0x2c15dc){const _0x40517d=_0x4ca37b,_0x20d8e6=resolve(_0x65f18d);if(_0x20d8e6 in watcher)return;pluginFolders[_0x40517d(0x11b)](_0x20d8e6),await Promise[_0x40517d(0x10a)](readdirSync(_0x20d8e6)[_0x40517d(0x119)](_0xba475e)[_0x40517d(0x107)](async _0x64a271=>{const _0xc2d24d=_0x40517d;try{let _0x476be3=global[_0xc2d24d(0x116)](join(_0x20d8e6,_0x64a271));const _0x563dcb=await import(_0x476be3);if(_0x563dcb)plugins[_0x64a271]='default'in _0x563dcb?_0x563dcb[_0xc2d24d(0xfa)]:_0x563dcb;}catch(_0x2f6c55){_0x2c15dc?.[_0xc2d24d(0x108)][_0xc2d24d(0x104)](_0x2f6c55),delete plugins[_0x64a271];}}));const _0x557066=watch(_0x20d8e6,reload[_0x40517d(0x10d)](null,_0x2c15dc,_0x20d8e6,_0xba475e));return _0x557066['on'](_0x40517d(0xfc),()=>deletePluginFolder(_0x20d8e6,!![])),watcher[_0x20d8e6]=_0x557066,plugins;}function deletePluginFolder(_0x30de48,_0x2b484d=![]){const _0x57217b=resolve(_0x30de48);if(!(_0x57217b in watcher))return;if(!_0x2b484d)watcher[_0x57217b]['close']();delete watcher[_0x57217b],pluginFolders['splice'](pluginFolders['indexOf'](_0x57217b),0x1);}async function reload(_0x52f909,_0x155c87=_0x155c87,_0x227700=_0x227700,_0x5bed58,_0x25cbec){const _0x25337e=_0x4ca37b;if(_0x227700(_0x25cbec)){let _0x2c0a66=global[_0x25337e(0x116)](join(_0x155c87,_0x25cbec),!![]);if(_0x25cbec in plugins){if(existsSync(_0x2c0a66))_0x52f909[_0x25337e(0x108)][_0x25337e(0x10f)]('\x20updated\x20plugin\x20-\x20\x27'+_0x25cbec+'\x27');else return _0x52f909?.['logger'][_0x25337e(0x105)](_0x25337e(0x118)+_0x25cbec+'\x27'),delete plugins[_0x25cbec];}else _0x52f909?.[_0x25337e(0x108)]['info'](_0x25337e(0x100)+_0x25cbec+'\x27');let _0x31ea85=_0x18cd71(readFileSync(_0x2c0a66),_0x25cbec,{'sourceType':_0x25337e(0x115),'allowAwaitOutsideFunction':!![]});if(_0x31ea85)_0x52f909['logger'][_0x25337e(0x104)](_0x25337e(0xfd)+_0x25cbec+'\x27\x0a'+format(_0x31ea85));else try{const _0x2d5f18=await _0x3e8225(global[_0x25337e(0x116)](_0x2c0a66))[_0x25337e(0x113)](console[_0x25337e(0x104)]);if(_0x2d5f18)plugins[_0x25cbec]=_0x2d5f18;}catch(_0x2b84dd){_0x52f909?.[_0x25337e(0x108)][_0x25337e(0x104)]('error\x20require\x20plugin\x20\x27'+_0x25cbec+'\x0a'+format(_0x2b84dd)+'\x27');}finally{plugins=Object[_0x25337e(0x10e)](Object[_0x25337e(0x11a)](plugins)[_0x25337e(0x111)](([_0x48f3e1],[_0x33e9b2])=>_0x48f3e1[_0x25337e(0x102)](_0x33e9b2)));}}}export{pluginFolder,pluginFilter,plugins,watcher,pluginFolders,filesInit,deletePluginFolder,reload};